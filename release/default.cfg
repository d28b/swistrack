<?xml version="1.0"?>
<CFG>Version 1.0.0
<COMPONENTS>
<!--This sections define the operational mode of each component of SwisTrack-->
<INPUT mode="1"/>
<IMAGEFILTER mode="0"/>
<SEGMENTER mode="1"/>
<SEGMENTERPP mode="0"/>
<PARTICLEFILTER mode="0"/>
<MASK mode="0"/>
<TRACKER mode="0"/>
<CALIBRATION mode="0"/>
<OUTPUT mode="0"/>
</COMPONENTS>
<!--From here on, parameters are stored for possible operational modes-->
<INPUT mode="0" desc="AVI Video" long="The video source is provided by a video file">
   <AVIFILE desc="AVI File" type="open" param="*.avi">example/example.avi</AVIFILE>
</INPUT>
<INPUT mode="1" desc="" long="">
</INPUT>
  <IMAGEFILTER mode="0" desc="Noise Filter" long="This filter performs a simple erosion and dilusion">
</IMAGEFILTER>
<SEGMENTER mode="0" desc="Static Background" long="">
   <THRESHOLD desc="Threshold" type="integer" min="1" max="150" variable="1">20</THRESHOLD>
   <BGIMAGE>example/bg.bmp</BGIMAGE>
   <FIXED desc="Fixed or based on image average" type="boolean" variable="1">0</FIXED>
 </SEGMENTER>
 <SEGMENTER mode="1" desc="Running Average" long="The image is segmented by subtracting the running average from every frame in the video">
   <THRESHOLD desc="Threshold" type="integer" min="1" max="150" variable="1">20</THRESHOLD>
    <ALPHA desc="Averaging Speed" type="double" min="0" max="1" variable="1">0.05</ALPHA>
  </SEGMENTER>
  <SEGMENTER mode="2" desc="Static Background, color ration" long="The image is segmented by subtracting a static background image from every frame in the video. The 'Threshold' determine the maximal color ratio variation for the background, and 'Max. Number' is the maximal number of contours processed (sorted by size).">
    <THRESHOLD desc="Threshold" type="integer" min="1" max="150" variable="1">20</THRESHOLD>
    <BGIMAGE desc="Background Image" type="open" param="*.bmp">example/bg.bmp</BGIMAGE>
  </SEGMENTER>
  <SEGMENTER mode="3" desc="Tracking a fixed color" long="We are searching for objects or background of a given color. The segmentation will be done on a simple threshold or color ratio based.">
    <THRESHOLD desc="Threshold" type="integer" min="1" max="150" variable="1">20</THRESHOLD>
    <RED desc="Red value of the color to track" type="integer" min="0" max="255" variable="1">156</RED>
    <BLUE desc="Blue value of the color to track" type="integer" min="0" max="255" variable="1">53</BLUE>
    <GREEN desc="Green value of the color to track" type="integer" min="0" max="255" variable="1">56</GREEN>
    <SELECTCOLORATSTART desc="Select the color with a gui at the run start" type="boolean">1</SELECTCOLORATSTART>
    <COLORDESCRIBEFOREGROUND desc="The color designed the foreground" type="boolean" variable="1">1</COLORDESCRIBEFOREGROUND>
    <WORKINGWITHCOLORRATIO desc="Working with color ratio" type="boolean" variable="1">0</WORKINGWITHCOLORRATIO>
    <BGIMAGE desc="Background Image" type="open" param="*.bmp">example/bg.bmp</BGIMAGE>    
  </SEGMENTER>
  <SEGMENTERPP mode="0" desc="Segmentation Post-Processing" long="Post processing is applied on the binary image resulting from the segmentation step">
    <FIRSTDILATE desc="Number of dilates applied to binary image (first step)" type="integer" min="1" max="5" variable="1">1</FIRSTDILATE>
    <FIRSTERODE desc="Number of erodes applied to binary image (second step)" type="integer" min="1" max="5" variable="1">3</FIRSTERODE>
    <SECONDDILATE desc="Number of dilates applied to binary image (third step)" type="integer" min="1" max="5" variable="1">2</SECONDDILATE>
    <USINGMASK desc="Mask applied to the segmentation" type="boolean">1</USINGMASK >
    <MASKIMAGE desc="Mask Image" type="open" param="*.bmp">example/mask.bmp</MASKIMAGE >    
  </SEGMENTERPP >  
<PARTICLEFILTER mode="0" desc="Min-Max Size Filter" long="Particles are filtered out according to their size">
   <MINAREA desc="Minimum area of a blob" type="double">0</MINAREA>
   <MAXAREA desc="Maximum area of a blob" type="double">100000</MAXAREA>
   <MAXNUMBER desc="Maximal Number of Contours" type="integer" min="0" max="255" variable="1">50</MAXNUMBER>
</PARTICLEFILTER>
<MASK mode="0" desc="No Mask" long="">
</MASK>
<TRACKER mode="0" desc="Nearest Neighbor" long="Simple nearest neighbor tracking. Maximal distance between two frames can be specified by a distance gate">
  <MAXSPEED desc="Maximum allowed speed (pixel/frame)" type="integer" variable="1" min="1" max="255">50</MAXSPEED>
  <NOBJECTS desc="Number of objects to track" type="integer">1</NOBJECTS>
</TRACKER>
<CALIBRATION mode="0" desc="2nd Order Polynomial Fit" long="Mapping from image to world space is done using by fitting a 2nd order polynomial">
   <CALIBBMPFNAME desc="Calibration Background" type="open" param="*.bmp">example/calibration_bg.bmp</CALIBBMPFNAME>
   <CALIBFNAME desc="Calibration Pattern" type="open" param="*.bmp">example/calibration.bmp</CALIBFNAME>
</CALIBRATION>
  <OUTPUT mode="0" desc="Output uncalibrated data" long="">
    <OUTPUTFNAME desc="Output File (text)" type="save" param="*.txt">output.txt</OUTPUTFNAME>
  </OUTPUT>
</CFG>
